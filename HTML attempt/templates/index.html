<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YesChef</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
    <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/x-icon">
</head>
<body>
    <div class="title-bar">
        <span class="title">YesChef
            <img src="{{ url_for('static', filename='images/favicon.png') }}" alt="Chef Hat Icon" class="title-icon">
        </span>
        
    
        <!-- Pause and Stop Buttons -->
        <button class="timer-control-button" id="pauseButton" onclick="togglePauseTimer()">
            <img src="{{ url_for('static', filename='images/pause_icon.png') }}" alt="Pause" class="icon-pause" id="pauseIcon" width="20px" height="20px">
            <img src="{{ url_for('static', filename='images/play_icon.png') }}" alt="Play" class="icon-play" id="playIcon" width="20px" height="20px" style="display: none;">
        </button>

        <!-- Centered Timer Display -->
        <div class="timer-display">00:00:00</div>
            
        <button class="timer-control-button" id="stopButton" onclick="stopTimer()">
            <img src="{{ url_for('static', filename='images/stop_icon.png') }}" alt="Stop" width="16px" height="16px">
        </button>

        <!-- Timer Button -->
        <button class="timer-button" onclick="openTimerPopup()">Timer</button>
        <!-- GitHub Button -->
        <a href="https://github.com/Ethan-W-Cox/YesChef" target="_blank" class="github-button">GitHub</a>
    </div>

    <!-- Timer Popup Backdrop and Popup Container -->
    <div id="timerBackdrop" style="display: none;" onclick="closeTimerPopup()">
        <div id="timerPopup" onclick="event.stopPropagation()">
            <h3>Set Timer</h3>
            <div class="timer-inputs">
                <input type="number" id="hoursInput" placeholder="HH" min="0">
                <input type="number" id="minutesInput" placeholder="MM" min="0" max="59">
                <input type="number" id="secondsInput" placeholder="SS" min="0" max="59">
            </div>
            <button onclick="startTimer()">Start Timer</button>
        </div>
    </div>

    <div class="container">
        <!-- URL Entry Section -->
        <div class="url-section">
            <input type="text" id="urlEntry" placeholder="Enter Recipe URL">
            <button onclick="fetchRecipe()" class="parse-button">Parse Recipe</button>
        </div>

        <!-- Main Content Area with Left and Right Sections -->
        <div class="main-content">
            <!-- Left Section for Ingredients and Instructions -->
            <div class="left-section">
                <!-- Ingredients Section -->
                <div class="ingredients-section">   
                    <h2>Ingredients</h2>
                    <textarea id="ingredientsText" readonly></textarea>
                </div>

                <!-- Instructions Section -->
                <div class="instructions-section">
                    <h2>Instructions</h2>
                    <textarea id="instructionsText" readonly></textarea>
                </div>
            </div>

            <!-- Right Section for ChatGPT Interaction -->
            <div class="right-section">
                <h2>Ask Chef</h2>
                <!-- Chatbox container -->
                <div id="conversationText" class="chatbox">
                    <!-- Example Messages -->
                    <div class="message user-message"></div>
                    <div class="message chatgpt-message"></div>
                </div>
            
                <div class="interaction-controls">
                    <input type="text" id="questionEntry" placeholder="Ask ChatGPT a question about the recipe">
                    <button onclick="askQuestion()">Ask</button>
                    <button id="recordButton" onclick="toggleRecording()" class="inactive">
                        <img src="{{ url_for('static', filename='images/mic_icon.png') }}" alt="Record" width="20" height="20">
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.1/socket.io.js"></script>
    <script src="{{ url_for('static', filename='js/script.js') }}"></script>
</body>
</html>
